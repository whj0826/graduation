"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[17],{6017:function(e,n,t){t.r(n),t.d(n,{default:function(){return v}});var i=t(2982),l=t(885),a=t(2791),s=t(803),c=t(4162),r=t(4172),o=t(7205),d=t(2419),h=t(4569),m=t.n(h),x=t(3978),u=t(184),j=[{id:"abc123",name:"\u5c0f\u660e",icon:"",date:"\u65f6\u95f4",images:["http://localhost:9090/1663833088230-12819617.jpg","http://localhost:9090/1663833119785-87430105.jpg"],text:"\u54c8\u54c8\u54c8\u54c8\u5566\u5566\u5566\u5566",children:[{id:"123456",name:"\u5c0f\u7ea2",icon:"",date:new Date,images:[],text:"123456\u82b1\u56ed\u8def\u4e16\u754c\u5386\u53f2",children:[]},{id:"001122",name:"\u5c0f\u8428",icon:"",date:"\u65f6\u95f4",images:[],text:"\u96f7\u514b\u8428\u996d\u5e97\u7ecf\u7406",children:[]}]},{id:"123456",name:"\u5c0f\u7ea2",icon:"",date:"\u65f6\u95f4",images:[],text:"123456\u82b1\u56ed\u8def\u4e16\u754c\u5386\u53f2",children:[]}];function g(e){var n=e.icon,t=e.name;return(0,u.jsx)(a.Fragment,{children:(0,u.jsxs)(c.Z,{direction:"row",sx:{margin:1},children:[""==n?(0,u.jsx)(x.Z,{children:"o"}):(0,u.jsx)(x.Z,{src:n}),(0,u.jsx)("div",{style:{margin:10},children:t})]})})}function p(e){var n=e.text,t=e.images;return(0,u.jsx)(a.Fragment,{children:(0,u.jsxs)("div",{style:{margin:5},children:[(0,u.jsx)("span",{children:n}),0!=t.length&&(0,u.jsx)(a.Fragment,{children:(0,u.jsx)(c.Z,{direction:"row",children:t.map((function(e,n){return(0,u.jsx)("div",{style:{margin:5},children:(0,u.jsx)("img",{alt:e,src:e,style:{width:80,height:80}})},n)}))})})]})})}function f(){return(0,u.jsx)(a.Fragment,{children:(0,u.jsx)(c.Z,{children:j.map((function(e){return(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"content-1",children:(0,u.jsx)(g,{name:e.name,icon:e.icon})}),(0,u.jsx)("div",{className:"content-2",children:(0,u.jsx)(p,{text:e.text,images:e.images})}),(0,u.jsx)("div",{className:"content-3",children:(0,u.jsx)("span",{children:e.date})})]},e.id)}))})})}function v(){var e=(0,a.useRef)(null),n=(0,a.useState)([]),t=(0,l.Z)(n,2),h=t[0],x=t[1],j=[];function g(e){var n=e.target.title;m().get("http://localhost:3000/del?filename="+n).then((function(e){if("ok"==e.data){for(var t=0;t<h.length;t++)if(h[t].text==n){h.splice(t,1);break}x((0,i.Z)(h)),console.log("\u5220\u9664\u6210\u529f")}else console.log("\u5220\u9664\u5931\u8d25")})).catch((function(e){console.error(e)}))}return(0,u.jsx)(a.Fragment,{children:(0,u.jsx)(s.Z,{maxWidth:"sm",children:(0,u.jsx)("div",{children:(0,u.jsxs)(c.Z,{spacing:2,children:[(0,u.jsx)("div",{className:"one",children:(0,u.jsxs)(c.Z,{direction:"column",children:[(0,u.jsx)(r.Z,{label:"\u8bc4\u8bba",fullWidth:!0,multiline:!0,inputRef:e}),(0,u.jsx)("div",{className:"upload",children:(0,u.jsxs)(c.Z,{direction:"row",children:[h.map((function(e,n){return(0,u.jsxs)("div",{className:"img-list",children:[(0,u.jsx)("img",{alt:e.text,src:e.url,className:"img"}),(0,u.jsx)(o.Z,{variant:"outlined",title:e.text,className:"but-del",component:"div",onClick:g,children:"\u5220\u9664"})]},n)})),(0,u.jsxs)(o.Z,{variant:"outlined",startIcon:(0,u.jsx)(d.Z,{}),component:"label",children:["\u4e0a\u4f20",(0,u.jsx)("input",{id:"upload",hidden:!0,type:"file",name:"file",onChange:function(){var e=document.getElementById("upload").files[0];console.log(e);var n=new FormData;n.append("file",e),m().post("http://localhost:3000/upload",n,{headers:{"content-type":"multipart/form-data"}}).then((function(e){"error"!=e.data&&(h.push({url:"http://localhost:9090/"+e.data,text:e.data}),x((0,i.Z)(h)))})).catch((function(e){console.error(e)}))}})]})]})}),(0,u.jsx)(o.Z,{variant:"outlined",onClick:function(){console.log(e.current.value);for(var n=0;n<h.length;n++)j[n]=h[n].url;console.log(j)},children:"\u53d1\u5e03"})]})}),(0,u.jsx)("div",{className:"two",children:(0,u.jsx)(s.Z,{maxWidth:"sm",children:(0,u.jsx)(f,{})})})]})})})})}}}]);
//# sourceMappingURL=17.4d32bb81.chunk.js.map